{"version":3,"sources":["src/app.ts","src/environment.ts","src/home.ts","src/main.ts","src/api/api-service.ts","src/api/auth-aware.ts","src/api/delete-able-api-service.ts","src/api/example.ts","src/api/frame-service.ts","src/api/login-callback.ts","src/api/user-service.ts","src/frame/frame-gallery.ts","src/frame/frame-service.ts","/Users/folea/personal/weframe/aurelia-typescript-weframe-web-app/src/frame/frame-thumbnail.js","src/nav-bar/nav-bar.ts","src/old-api/api-delete-able-service.ts","src/old-api/api-service.ts","src/old-api/auth-service.ts","src/old-api/authentication-aware.ts","src/old-api/login-callback.ts","src/old-api/rest-service.ts","src/resources/index.ts","/Users/folea/personal/weframe/aurelia-typescript-weframe-web-app/src/api/auth/auth-listener.js","src/api/auth/auth-service.ts","src/api/http/http-service.ts","src/old-api/user/user-service.ts"],"names":[],"mappings":"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","file":"app-bundle.js","sourcesContent":["import {Router, RouterConfiguration} from 'aurelia-router';\n\nexport class App {\n\n  private router: Router;\n  \n  configureRouter(config: RouterConfiguration, router: Router){\n        config.options.pushState = true;\n        config.map([\n          { route: ['', 'home'],    moduleId: './home',                 nav: true,  name: 'home'},\n          { route: 'callback',      moduleId: './api/login-callback',   nav: false, name: 'callback' }\n        ]);\n\n        this.router = router;\n  }\n  \n}\n","export default {\n  debug: true,\n  testing: true,\n  auth0Domain: 'weframe.auth0.com',\n  auth0ClientID: 'T4odJUBxMAikG5P6sEaq7wk5OqdabVYL',\n  auth0RedirectUri: 'http://localhost:9000/callback',\n  auth0Audience: 'http://localhost:8080',\n  auth0ResponseType: 'token id_token',\n  auth0Scope: 'openid',\n  webApiUrl: \"http://localhost:8999\",\n  tokenStateEvent: \"tokenStateEvent\",\n  authStateEvent: \"authStateEvent\",\n  newAuthStateEvent: \"newAuthStateEvent\",\n  httpServiceTimeout: 10000\n};\n","import { inject } from 'aurelia-framework';\nimport { EventAggregator } from 'aurelia-event-aggregator';\nimport { AuthService } from './old-api/auth-service';\nimport { RestService } from './old-api/rest-service';\n\n@inject(AuthService, EventAggregator, RestService)\nexport class Home {\n\n  private authenticated: boolean;\n  private user: string;\n  private authService: AuthService;\n\n  constructor(private auth: AuthService, private eventAggregator: EventAggregator, private restService: RestService) {\n    // this.eventAggregator.subscribe('authChange', (authenticated) => {\n    //   this.authenticated = authenticated;\n    // });\n    // this.authService = auth;\n  }\n\n  // test() {\n  //   console.log(\"test\");\n  //   this.restService.getClient().createRequest(\"http://localhost:8999/users/me\")\n  //       .asGet()\n  //       .withTimeout(3000)\n  //       .send()\n  //       .then(success => {\n  //         console.log(success);\n  //         this.user = success.response;\n  //       }, failure => {\n  //         console.log(failure);\n  //       });\n  // }\n\n}","import {Aurelia} from 'aurelia-framework'\nimport environment from './environment';\nimport { WebAuth } from 'auth0-js';\nimport { Router } from 'aurelia-router';\n\nimport { AuthService } from './api/auth/auth-service';\nimport { HttpService } from './api/http/http-service';\n\nexport function configure(aurelia: Aurelia) {\n  aurelia.use\n    .standardConfiguration()\n    .feature('resources')\n    .plugin('aurelia-bootstrap', config => config.options.version = 4);\n\n  if (environment.debug) {\n    aurelia.use.developmentLogging();\n  }\n\n  if (environment.testing) {\n    aurelia.use.plugin('aurelia-testing');\n  }\n\n  let auth0 = getAuth0();\n  let httpService = new HttpService();\n  let authService = new AuthService(auth0, httpService);\n  authService.initialize();\n\n  aurelia.container.registerSingleton(WebAuth, () => {\n    return auth0;\n  });\n\n  aurelia.container.registerSingleton(HttpService, () => {\n    return httpService;\n  });\n\n  aurelia.container.registerSingleton(AuthService, () => {\n    return authService;\n  });\n\n  aurelia.start().then(() => aurelia.setRoot());\n  \n}\n\n\n\nfunction getAuth0(): WebAuth {\n  return new WebAuth({\n    domain: environment.auth0Domain,\n    clientID: environment.auth0ClientID,\n    redirectUri: environment.auth0RedirectUri,\n    audience: environment.auth0Audience,\n    responseType: environment.auth0ResponseType,\n    scope: environment.auth0Scope\n  });\n}","import { HttpService } from './http/http-service';\nimport environment from '../environment';\n\nexport abstract class ApiService {\n\n  constructor(protected readonly httpService: HttpService, \n              protected readonly entityPath: string, \n              protected readonly timeout: number) {}\n\n  get(page: number = 0, size: number = 10) {\n    console.log(`Retrieving ${size} entities from ${this.entityPath} page ${page}`);\n    var promise = new Promise((resolve, reject) => {\n      this.httpService.request(this.entityPath)\n        .asGet()\n        .withTimeout(this.timeout)\n        .withParams({ page: page, size: size })\n        .send()\n        .then(this.getSuccess, failure => {\n          this.getFailure(failure);\n          reject(failure);\n        });\n    });\n    return promise;\n  }\n\n  getById(id: number) {\n    console.log(`Retrieving from ${this.entityPath} by id ${id}`);\n    var promise = new Promise((resolve, reject) => {\n      this.httpService.request(`${this.entityPath}/${id}`)\n        .asGet()\n        .withTimeout(this.timeout)\n        .send()\n        .then(this.getSuccess, failure => {\n          this.getFailure(failure);\n          reject(failure);\n        });\n\n    })\n  }\n\n  post(entity) {\n    console.log(`Posting to ${this.entityPath}`);\n    var promise = new Promise((resolve, reject) => {\n      this.httpService.request(`${this.entityPath}`)\n        .asPost()\n        .withTimeout(this.timeout)\n        .withContent(entity)\n        .send()\n        .then(success => {\n          console.log(`POST ${this.entityPath} response status ${success.statusCode}`);\n          if(success.statusCode == 200) {\n            resolve();\n          } else {\n            reject(success);\n          }\n        }, failure => {\n          reject(failure);\n        });\n    });\n    return promise;\n  }\n\n  private getSuccess = function (success) {\n    console.log(`${this.entityPath} response status ${success.statusCode}`);\n    if (success.statusCode == 200) {\n      return JSON.parse(success.response);\n    } else {\n      return null;\n    }\n  }\n\n  protected getFailure = function (failure) {\n    console.log(`${this.entityPath} resquest failed`);\n    console.log(failure);\n  }\n\n}","import { EventAggregator } from 'aurelia-event-aggregator';\nimport environment from '../environment';\n\nexport abstract class AuthAware {\n\n  protected authenticated = false;\n\n  constructor(protected readonly eventAggregator: EventAggregator) {}\n\n  protected initializeAuthAware() {\n    this.eventAggregator.subscribe(environment.authStateEvent, (event) => {\n      this.handleEvent(event);\n    });\n    var uuid = this.generateUUID();\n    console.log(\"Subscribing once for initial event: \" + uuid);\n    this.eventAggregator.subscribeOnce(uuid, (event) => {\n      this.handleEvent(event);\n    });\n    this.eventAggregator.publish(environment.newAuthStateEvent, {\n      listenerId: uuid\n    });\n  }\n\n  private generateUUID(): string {\n    return this.generateRandomString() \n    + this.generateRandomString() \n    + '-' + this.generateRandomString() \n    + '-' + this.generateRandomString() \n    + '-' + this.generateRandomString() \n    + '-' + this.generateRandomString() \n    + this.generateRandomString() \n    + this.generateRandomString();;\n  }\n\n  private generateRandomString() {\n    return Math.floor((1 + Math.random()) * 0x10000)\n      .toString(16)\n      .substring(1);\n  }\n\n  private handleEvent(event) {\n    console.log(event);\n    this.authenticated = event.authenticated;\n    if (this.authenticated) {\n      this.onAuthenticaticated();\n    } else {\n      this.onUnauthenticated();\n    }\n  }\n\n  protected abstract onAuthenticaticated(): void;\n  protected abstract onUnauthenticated(): void;\n\n}","import { ApiService } from './api-service';\nimport { HttpService } from './http/http-service';\nimport environment from '../environment';\n\nexport abstract class DeleteAbleApiService extends ApiService {\n\n  constructor(httpService: HttpService, entityPath: string, timeout: number) {\n    super(httpService, entityPath, timeout);\n  }\n\n  delete(id: number) {\n    console.log(`Deleting from ${this.entityPath} by id ${id}`);\n    var promise = new Promise((resolve, reject) => {\n      this.httpService.request(`${this.entityPath}/${id}`)\n        .asDelete()\n        .withTimeout(this.timeout)\n        .send()\n        .then(success => {\n          console.log(`${this.entityPath} response status ${success.statusCode}`);\n          if(success.statusCode == 200) {\n            resolve();\n          } else {\n            reject(success);\n          }\n        }, failure => {\n          this.getFailure(failure);\n          reject(failure);\n        });\n\n    })\n  }\n\n}","export class Example {\n    constructor(private readonly text: string) {\n\n    }\n\n    getText() {\n        return this.text;\n    }\n}","import { inject } from 'aurelia-framework';\nimport { DeleteAbleApiService } from './delete-able-api-service';\nimport { HttpService } from './http/http-service';\nimport environment from '../environment';\n\n@inject(HttpService)\nexport class FrameService extends DeleteAbleApiService {\n\n  constructor(httpService: HttpService) {\n    super(httpService, \"/frames\", environment.httpServiceTimeout);\n  }\n\n}","import { inject } from 'aurelia-framework';\nimport { Router } from 'aurelia-router';\nimport { AuthService } from './auth/auth-service';\n\n@inject(AuthService, Router)\nexport class Callback {\n\n  constructor(private readonly auth: AuthService, private readonly router: Router) {}\n\n  created() {\n    console.log(\"Calling auth handler\");\n    this.auth.handleAuthentication().then(() => {\n      console.log(\"Redirecting home\");\n      this.router.navigate(\"home\")\n    });\n  }\n  \n}","import { inject } from 'aurelia-framework';\nimport { HttpService } from \"./http/http-service\";\n\n@inject(HttpService)\nexport class UserService {\n\n    constructor(private readonly httpService: HttpService) {}\n\n    getCurrentUserData(): Promise<any> {\n        var promise = new Promise((resolve, reject) => {\n            this.httpService.request(\"/users/me\")\n                .asGet()\n                .send()\n                .then(success => {\n                    if(success.statusCode == 200) {\n                        resolve(JSON.parse(success.response));\n                    } else {\n                        reject(success);\n                    }\n                }, failure => {\n                    reject(failure);\n                });\n        });\n        return promise;\n    }\n\n    isAuthenticated(): boolean {\n        return this.httpService.isAuthenticated();\n    }\n\n}","import { inject } from 'aurelia-framework';\nimport { FrameService } from './frame-service';\n\n@inject(FrameService)\nexport class FrameGallery {\n\n  private rowSize = 6;\n  private frames = [];\n  private error = {title: null, description: null};\n  private working = false;\n\n  constructor(private frameService: FrameService) {}\n\n  created() {\n    this.retrieveFrames();\n  }\n\n  retrieveFrames(page: number = 1, size: number = 10) {\n    this.working = true;\n    this.frameService.get(page, size).then(success => {\n      this.frames = success as {}[];\n      var frameRows = Math.ceil(this.frames.length / this.rowSize);\n      this.frames.forEach((frame) => {\n        console.log(frame);\n      }, this);\n      this.working = false;\n    }, failure => {\n        this.error.title = 'Ups';\n        this.error.description = 'Parece que el sistema no response, por favor intenta nuevamente mas tarde.';\n        this.working = false;\n    });\n  }\n\n}","import { inject } from 'aurelia-framework';\nimport { RestService } from '../old-api/rest-service';\nimport { ApiDeleteAbleService } from '../old-api/api-delete-able-service';\n\n@inject(RestService)\nexport class FrameService extends ApiDeleteAbleService {\n\n    constructor(restService: RestService) {\n        super(restService, '/frames', 3000);\n    }\n\n}",null,"import { inject } from 'aurelia-framework';\nimport { UserService } from '../api/user-service';\nimport { AuthService } from '../api/auth/auth-service';\n\n@inject(UserService, AuthService)\nexport class NavBar {\n\n  private user;\n\n  constructor(private readonly userService: UserService, \n              private readonly authService: AuthService) {}\n\n  created() {\n    console.log(\"Nav bar created \" + this.isAuthenticated());\n    if(this.isAuthenticated()) {\n      this.getCurrentUser();\n    } else {\n      this.user = null;\n    }\n  }\n\n  login() {\n    this.authService.login();\n  }\n\n  logout() {\n    this.authService.logout();\n  }\n\n  private isAuthenticated(): boolean {\n    return this.userService.isAuthenticated();\n  }\n\n  getCurrentUser() {\n    this.userService.getCurrentUserData().then(\n      success => {\n        console.log(success);\n        this.user = success;\n      },\n      failure => {\n        console.error(failure);\n    });\n  }\n\n}","import { ApiService } from './api-service';\nimport { RestService } from './rest-service';\nimport environment from '../environment';\n\nexport class ApiDeleteAbleService extends ApiService {\n\n  constructor(restService: RestService, entityPath: string, timeout: number) {\n    super(restService, entityPath, timeout);\n  }\n\n  delete(id: number) {\n    console.log(`Deleting from ${this.entityPath} by id ${id}`);\n    var promise = new Promise((resolve, reject) => {\n      this.restService.getClient()\n        .createRequest(`${this.entityPath}/${id}`)\n        .asDelete()\n        .withTimeout(this.timeout)\n        .send()\n        .then(success => {\n          if(success.statusCode == 200) {\n            resolve();\n          } else {\n            reject(success);\n          }\n        }, failure => {\n          this.promiseFailure(failure);\n          reject(failure);\n        });\n\n    })\n  }\n\n}","import { inject } from 'aurelia-framework';\nimport { RestService } from './rest-service';\nimport environment from '../environment';\n\nexport class ApiService {\n\n  protected restService: RestService;\n  protected entityPath: string;\n  protected timeout: number;\n\n  constructor(restService: RestService, entityPath: string, timeout: number) {\n    this.restService = restService;\n    this.entityPath = entityPath;\n    this.timeout = timeout;\n  }\n\n  get(page: number, size: number) {\n    console.log(`Retrieving ${size} entities from ${this.entityPath} page`);\n    var promise = new Promise((resolve, reject) => {\n      this.restService.getClient()\n        .createRequest(this.entityPath)\n        .asGet()\n        .withTimeout(this.timeout)\n        .withParams({ page: page, size: size })\n        .send()\n        .then(this.promiseSuccess, failure => {\n          this.promiseFailure(failure);\n          reject(failure);\n        });\n    });\n    return promise;\n  }\n\n  getById(id: number) {\n    console.log(`Retrieving from ${this.entityPath} by id ${id}`);\n    var promise = new Promise((resolve, reject) => {\n      this.restService.getClient()\n        .createRequest(`${this.entityPath}/${id}`)\n        .asGet()\n        .withTimeout(this.timeout)\n        .send()\n        .then(this.promiseSuccess, failure => {\n          this.promiseFailure(failure);\n          reject(failure);\n        });\n\n    })\n  }\n\n  getCount() {\n    console.log(`Getting ${this.entityPath} count`);\n    var _self = this;\n    var promise = new Promise(function (resolve, reject) {\n      _self.restService.getClient().createRequest(`${this.entityPath}/count`)\n        .asGet()\n        .withTimeout(this.timeout)\n        .send()\n        .then(this.promiseSuccess, failure => {\n          this.promiseFailure(failure);\n          reject(failure);\n        });\n    });\n    return promise;\n  }\n\n  post(user) {\n    console.log(`Posting to ${this.entityPath}`);\n    var promise = new Promise((resolve, reject) => {\n      this.restService.getClient().createRequest(`${this.entityPath}`)\n        .asPost()\n        .withTimeout(this.timeout)\n        .withContent(user)\n        .send()\n        .then(success => {\n          console.log(`${this.entityPath} response status ${success.statusCode}`);\n          if(success.statusCode == 200) {\n            resolve();\n          } else {\n            reject(success);\n          }\n        }, failure => {\n          reject(failure);\n        });\n    });\n    return promise;\n  }\n\n  private promiseSuccess = function (success) {\n    console.log(`${this.entityPath} response status ${success.statusCode}`);\n    if (success.statusCode == 200) {\n      return JSON.parse(success.response);\n    } else {\n      return null;\n    }\n  }\n\n  protected promiseFailure = function (failure) {\n    console.log(`${this.entityPath} resquest failed`);\n    console.log(failure);\n  }\n\n}","import { WebAuth } from 'auth0-js';\nimport { inject } from 'aurelia-framework';\nimport { Router } from 'aurelia-router';\nimport { EventAggregator } from 'aurelia-event-aggregator';\nimport environment from '../environment'\n\n@inject(Router, EventAggregator)\nexport class AuthService {\n\n  private router: Router;\n  private eventAggregator: EventAggregator;\n  private auth0: WebAuth;\n\n  constructor(router: Router, eventAggregator: EventAggregator) {\n    this.router = router;\n    this.eventAggregator = eventAggregator;\n    this.auth0 = new WebAuth({\n      domain: 'weframe.auth0.com',\n      clientID: 'T4odJUBxMAikG5P6sEaq7wk5OqdabVYL',\n      redirectUri: 'http://localhost:9000/callback',\n      audience: 'http://localhost:8080',\n      responseType: 'token id_token',\n      scope: 'openid'\n    });\n    this.init();\n  }\n  \n  login() {\n    this.auth0.authorize();\n  }\n\n  handleAuthentication() {\n    this.auth0.parseHash((err, authResult) => {\n      if (authResult && authResult.accessToken && authResult.idToken) {\n        this.setSession(authResult);\n        console.log(\"Login successful for user \" + authResult.idTokenPayload.sub);\n        this.eventAggregator.publish(\"environment.tokenStateEvent\", { \n          authenticated: true, \n          accessToken: authResult.access_token \n        });\n        this.router.navigate('home');\n      } else if (err) {\n        console.log(err);\n      }\n    });\n  }\n\n  logout() {\n    // Clear access token and ID token from local storage\n    localStorage.removeItem('access_token');\n    localStorage.removeItem('id_token');\n    localStorage.removeItem('expires_at');\n    console.log(\"Tokens removed.\");\n    this.router.navigate('home');\n    this.eventAggregator.publish(\"environment.tokenStateEvent\", false);\n  }\n\n  private getToken() {\n    if(this.isAuthenticated()) {\n      return {\n        accessToken: localStorage.getItem('access_token'), \n        idToken: localStorage.getItem('id_token')\n      };\n    } else {\n      return null;\n    }\n  }\n\n  private isAuthenticated() {\n    // Check whether the current time is past the\n    // access token's expiry time\n    let expiresAt = JSON.parse(localStorage.getItem('expires_at'));\n    return new Date().getTime() < expiresAt;\n  }\n\n  private init() {\n    if(this.isAuthenticated()) {\n      var token = this.getToken();\n      this.eventAggregator.publish(\"environment.authStateEvent\", { \n        authenticated: true, \n        accessToken: token.accessToken\n      });\n    }\n  }\n\n  private setSession(authResult) {\n    // Set the time that the access token will expire at\n    let expiresAt = JSON.stringify(\n      authResult.expiresIn * 1000 + new Date().getTime()\n    );\n    localStorage.setItem('access_token', authResult.accessToken);\n    localStorage.setItem('id_token', authResult.idToken);\n    localStorage.setItem('expires_at', expiresAt);\n  }\n\n}","import { EventAggregator } from 'aurelia-event-aggregator';\nimport environment from '../environment';\n\nexport abstract class AuthenticationAware {\n\n    protected authenticated: boolean;\n\n    constructor(eventAggregator: EventAggregator) {\n        // eventAggregator.subscribe(environment.tokenStateEvent, (authChange) => {\n        //     this.authenticated = authChange.authenticated;\n        //     this.authenticationChanged(authChange);\n        // });\n    }\n\n    protected abstract authenticationChanged(authChange): void;\n\n}","import { inject } from 'aurelia-framework';\nimport { AuthService } from './auth-service';\n\n@inject(AuthService)\nexport class Callback {\n\n  private auth: AuthService\n\n  constructor(auth: AuthService) {\n    this.auth = auth;\n    this.auth.handleAuthentication();\n  }\n  \n}","import { HttpClient } from 'aurelia-http-client';\nimport { inject } from 'aurelia-framework';\nimport { EventAggregator } from 'aurelia-event-aggregator';\nimport { AuthService } from './auth-service';\nimport { AuthenticationAware } from './authentication-aware';\nimport environment from '../environment';\n\n@inject(EventAggregator, AuthService)\nexport class RestService extends AuthenticationAware {\n    \n    private httpClient: HttpClient;\n    private authService: AuthService\n\n    constructor(eventAggregator: EventAggregator, authService: AuthService) {\n        super(eventAggregator);\n        this.httpClient = this.createUnauthenticatedClient();\n        this.authService = authService;\n    }\n\n    isAuthenticated() {\n        return this.authenticated;\n    }\n\n    getClient() {\n        return this.httpClient;\n    }\n\n    protected authenticationChanged(authChange) {\n        if(authChange.authenticated) {\n            console.log(\"Authenticated, created http client with access token.\");\n            this.httpClient = this.createAuthenticatedClient(authChange.accessToken);\n        } else {\n            console.log(\"Logged out, created default http client.\");\n            this.httpClient = this.createUnauthenticatedClient();\n        }\n    }\n\n    private createUnauthenticatedClient(): HttpClient {\n        return new HttpClient()\n            .configure(configuration => {\n                configuration.withBaseUrl(environment.webApiUrl);\n        });\n    }\n\n    private createAuthenticatedClient(accessToken): HttpClient {\n        return new HttpClient()\n            .configure(configuration => {\n                configuration.withBaseUrl(environment.webApiUrl);\n                configuration.withCredentials(true)\n                configuration.withHeader('Authorization', `Bearer ${accessToken}`);\n        });\n    }\n}","import {FrameworkConfiguration} from 'aurelia-framework';\n\nexport function configure(config: FrameworkConfiguration) {\n  //config.globalResources([]);\n}\n",null,"import { WebAuth } from 'auth0-js';\nimport { inject } from 'aurelia-framework';\nimport { EventAggregator } from 'aurelia-event-aggregator';\nimport environment from '../../environment'\n\nimport { AuthListener } from './auth-listener';\n\nexport class AuthService {\n\n  constructor(private readonly auth0: WebAuth,\n              private readonly listener: AuthListener) {}\n\n  login() {\n    this.auth0.authorize();\n  }\n\n  logout() {\n    this.deleteToken();\n    console.log(\"Tokens removed.\");\n    this.listener.onUnauthenticated();\n    location.reload(true);\n  }\n\n  handleAuthentication(): Promise<void> {\n    return new Promise((resolve) => {\n      this.auth0.parseHash((err, authResult) => {\n        if (authResult && authResult.accessToken && authResult.idToken) {\n          console.log(authResult);\n          this.persistToken(authResult);\n          this.listener.onAuthenticated(authResult.accessToken);\n          console.log(\"Login successful for user \" + authResult.idTokenPayload.sub);\n          resolve();\n        } else if (err) {\n          console.log(err);\n          this.listener.onUnauthenticated();\n          resolve();\n        } else {\n          console.error(\"Login unsuccessful with unknown error.\");\n          this.listener.onUnauthenticated();\n          resolve();\n        }\n      });\n    });\n  }\n\n  initialize() {\n    if (this.hasExpiredToken()) {\n      this.listener.onUnauthenticated();\n    } else {\n      this.listener.onAuthenticated(this.loadToken().accessToken);\n    }\n  }\n\n  private persistToken(authResult) {\n    // Set the time that the access token will expire at\n    let expiresAt = JSON.stringify(\n      authResult.expiresIn * 1000 + new Date().getTime()\n    );\n    localStorage.setItem('access_token', authResult.accessToken);\n    localStorage.setItem('id_token', authResult.idToken);\n    localStorage.setItem('expires_at', expiresAt);\n  }\n\n  private deleteToken() {\n    // Clear access token and ID token from local storage\n    localStorage.removeItem('access_token');\n    localStorage.removeItem('id_token');\n    localStorage.removeItem('expires_at');\n  }\n\n  private loadToken() {\n    if (this.hasExpiredToken()) {\n      return null;\n    } else {\n      return {\n        accessToken: localStorage.getItem('access_token'),\n        idToken: localStorage.getItem('id_token')\n      };\n    }\n  }\n\n  private hasExpiredToken(): boolean {\n    // Check whether the current time is past the\n    // access token's expiry time\n    let expiresAt = JSON.parse(localStorage.getItem('expires_at'));\n    return new Date().getTime() > expiresAt;\n  }\n\n}","import { HttpClient } from 'aurelia-http-client';\nimport { inject } from 'aurelia-framework';\nimport environment from '../../environment';\n\nimport { AuthListener } from '../auth/auth-listener';\n\nexport class HttpService implements AuthListener {\n\n  private token: string;\n  private httpClient: HttpClient;\n\n  constructor() {\n    this.httpClient = this.createClient();\n  }\n\n  request(path) {\n    var _self = this;\n    return this.httpClient.createRequest(path)\n      .withInterceptor({\n        request(request) {\n          if(_self.token != null) {\n            request.headers.add('Authorization', `Bearer ${_self.token}`);\n          }\n          return request;\n        }\n      });\n  }\n\n  onAuthenticated(token: string) {\n    this.token = token;\n    console.log(\"Authenticated. \" + token);\n  }\n  onUnauthenticated() {\n    this.token = null;\n    console.log(\"Unauthenticated. \" + this.token);\n  }\n\n  isAuthenticated(): boolean {\n    if(this.token != null) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  private createClient(): HttpClient {\n    return new HttpClient()\n      .configure(configuration => {\n        configuration.withBaseUrl(environment.webApiUrl);\n        configuration.withCredentials(true);\n      });\n  }\n}","import { inject } from 'aurelia-framework';\nimport { EventAggregator } from 'aurelia-event-aggregator';\nimport { RestService } from '../rest-service';\nimport { AuthenticationAware } from '../authentication-aware';\n\n@inject(EventAggregator, RestService)\nexport class UserService extends AuthenticationAware {\n\n    private restService: RestService;\n\n    constructor(eventAggregator: EventAggregator, restService: RestService) {\n        super(eventAggregator);\n        this.restService = restService;\n    }\n\n    getCurrentUserData() {\n        var promise = new Promise((resolve, reject) => {\n            this.restService.getClient()\n                .createRequest(\"/users/me\")\n                .asGet()\n                .withTimeout(3000)\n                .send()\n                .then(success => {\n                    resolve(success);\n                }, failure => {\n                    reject(failure);\n                });\n        });\n        return promise;\n    }\n\n    protected authenticationChanged() {\n        \n    }\n\n}"],"sourceRoot":".."}